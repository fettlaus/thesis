\documentclass[draft=false
              ,paper=a4
              ,twoside=false
              ,fontsize=11pt
              ,headsepline
              ,BCOR10mm
              ,DIV11
              ]{scrbook}
\usepackage[ngerman,english]{babel}
%% see http://www.tex.ac.uk/cgi-bin/texfaq2html?label=uselmfonts
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
%\usepackage[latin1]{inputenc}
\usepackage{libertine}
\usepackage{pifont}
\usepackage{microtype}
\usepackage{textcomp}
\usepackage[german,refpage]{nomencl}
\usepackage{setspace}
\usepackage[xindy]{imakeidx}
\usepackage{listings}
%%\usepackage{natbib}
\usepackage[ngerman,hidelinks]{hyperref}
\usepackage{soul}
\usepackage{hawstyle}
\usepackage{lipsum} %% for sample text
\usepackage{etoolbox}
%% All my packages
\definecolor{grey}{HTML}{E6E6E6}
\usepackage{realboxes}
\usepackage{amsmath}
\usepackage{framed}
\usepackage[amsmath,standard,hyperref,framed]{ntheorem}
\usepackage{tabu}
\usepackage{multirow}
\usepackage{pgf-umlsd}
\usepackage{bytefield}
\usepackage{float}
\usepackage{csquotes}
\usepackage[sorting=none,backend=biber,citestyle=numeric,doi=true,url=true]{biblatex}
\addbibresource{sample.bib}
%%\usepackage{amsthm}
\usepackage{parskip}

\usepackage{siunitx}
\sisetup{detect-all = true, free-standing-units = true}
%%\usepackage{xindy}
\usepackage[nomain,toc,acronym,xindy]{glossaries}

%%\usepackage{tocloft}
\usepackage{tocbibind}
\graphicspath{{./res/}{./logo/}}

\input{glos.tex}
\input{customs.tex}
%%\newacronym{dap}{DAP}{Debug access port}
%%\newacronym{tap}{TAP}{test access port}
\makeglossaries
%%\renewcommand{\cftdot}{.}
%%\renewcommand*{\familydefault}{\sfdefault}
\makeatletter
%%\patchcmd{\chapter}{\if@openright\cleardoublepage\else\clearpage\fi}{\par}{}{}
\renewcommand\fs@ruled{\def\@fs@cfont{\bfseries}\let\@fs@capt\floatc@ruled
%%\def\@fs@post{\hrule height.8pt depth0pt \kern2pt}%
\def\@fs@post{\relax}
\def\@fs@pre{\kern2pt\hrule\kern8pt}%
\def\@fs@mid{\kern8pt\hrule\kern2pt}%
\let\@fs@iftopcapt\iffalse}
\makeatother
\usepackage{minitoc}
%% define some colors
\colorlet{BackgroundColor}{gray!20}
\colorlet{KeywordColor}{blue}
\colorlet{CommentColor}{black!60}
%% for tables
\colorlet{HeadColor}{gray!60}
\colorlet{Color1}{blue!10}
\colorlet{Color2}{white}

%% configure colors
\HAWifprinter{
  \colorlet{BackgroundColor}{gray!20}
  \colorlet{KeywordColor}{black}
  \colorlet{CommentColor}{gray}
  % for tables
  \colorlet{HeadColor}{gray!60}
  \colorlet{Color1}{gray!40}
  \colorlet{Color2}{white}
}{}
\lstset{%
  numbers=left,
  numberstyle=\tiny,
  stepnumber=1,
  numbersep=5pt,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{KeywordColor}\bfseries,
  identifierstyle=\color{black},
  commentstyle=\color{CommentColor},
  backgroundcolor=\color{BackgroundColor},
  captionpos=b,
  fontadjust=true
}
\lstset{escapeinside={(*@}{@*)}, % used to enter latex code inside listings
        morekeywords={uint32_t, int32_t}
}
\ifpdfoutput{
  \hypersetup{bookmarksopen=false,bookmarksnumbered,linktocpage}
}{}

%% more fancy C++
\DeclareRobustCommand{\cxx}{C\raisebox{0.25ex}{{\scriptsize +\kern-0.25ex +}}}

\clubpenalty=10000
\widowpenalty=10000
\displaywidowpenalty=10000

% unknown hyphenations
\hyphenation{
}

%% recalculate text area
\typearea[current]{last}

\makeindex
\makenomenclature

\begin{document}
\selectlanguage{ngerman}
\floatstyle{ruled}
\restylefloat{figure}
%%%%%
%% customize (see readme.pdf for supported values)
\HAWThesisProperties{Author={Arne Wischer	}
                    ,Title={Design und Implementierung eines verteilten
                    linuxbasierten Entwicklungssystems für
                    Nahbereichsfunkanwendungen mit ARM-Architektur }
                    ,EnglishTitle={Developing software in Germany}
                    ,ThesisType={Bachelorarbeit}
                    ,ExaminationType={Bachelorprüfung}
                    ,DegreeProgramme={Bachelor of Science Technische Informatik}
                    ,ThesisExperts={Prof. Dr. rer. nat. Hans Heinrich Heitmann
                    \and Prof. Dr.-Ing. Franz Korf} ,ReleaseDate={18. April 2013}
                  }

%% title
\frontmatter
%%\input{planung}
%% output title page
\maketitle

\onehalfspacing

%% add abstract pages
%% note: this is one command on multiple lines
\HAWAbstractPage
%% German abstract
{Schlüsselwort 1, Schlüsselwort 2}%
{Dieses Dokument \ldots}
%% English abstract
{keyword 1, keyword 2}%
{This document \ldots}

\newpage
\singlespacing
\mtcselectlanguage{german}
\dominitoc
\tableofcontents

\newpage
%% enable if these lists should be shown on their own page
%%\listoftables
%%\listoffigures
%\lstlistoflistings
\printglossary[type=acronym,title=Abkürzungsverzeichnis,toctitle=Abkürzungsverzeichnis]
%%\printglossaries
\adjustmtc
%% main
\mainmatter
\onehalfspacing
%% write to the log/stdout

\typeout{===== File: chapter 1}
%% include chapter file (chapter1.tex)o
\include{chapter1}
\include{chapter2}
\include{chapter3}
\include{chapter4}
\include{chapter5}

%%%%
%% add some text to generate a sample document
%\chapter{Sample Chapter}

%\lipsum

%%%%

%% appendix if used
%%\appendix
%%\typeout{===== File: appendix}
%%\include{appendix}

% bibliography and other stuff
%\backmatter

\typeout{===== Section: figures}
\listoffigures

\typeout{===== Section: literature}
%% read the documentation for customizing the style
%%\bibliographystyle{dinat}
%%\bibliography{sample}
\printbibliography[heading=bibintoc]

\typeout{===== Section: nomenclature}
%% uncomment if a TOC entry is needed
%%\addcontentsline{toc}{chapter}{Glossar}
\renewcommand{\nomname}{Glossar}
\clearpage
\markboth{\nomname}{\nomname} %% see nomencl doc, page 9, section 4.1
\printnomenclature

%% index
\typeout{===== Section: index}
\printindex

\HAWasurency

\end{document}
